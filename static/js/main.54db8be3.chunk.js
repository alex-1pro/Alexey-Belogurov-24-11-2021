(this["webpackJsonpalexey-belogurov-24-11-2021"]=this["webpackJsonpalexey-belogurov-24-11-2021"]||[]).push([[0],{63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},71:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},77:function(e,t,c){},81:function(e,t,c){"use strict";c.r(t);var a=c(0),r=c.n(a),n=c(16),i=c.n(n),s=(c(63),c(64),c(9)),u=c(89),o=c(84),l=c(85),h=c(86),j=(c(65),c(11)),d=c(25),b=c.n(d),O=c(36),x="MiGTVt9Xdh6vttWqVfrCSx5DoDaRN0Ja",f="https://dataservice.accuweather.com/currentconditions/v1/",v="https://dataservice.accuweather.com/forecasts/v1/daily/5day/",m="DEFAULT_LOAD_WEATHER",p="AUTO_COMPLETE",y="DAILY_FORECASTS",g="GET_CURRENT_LOCATION",w="CHANGE_UNIT_DEGREES",N="ADD_TO_FAVORITES",D="UPDATE_CITY_NAME",T="CURRENT_WEATHER_FROM_FAVORITES",E="ERROR_DISPALY_ON",_="ERROR_DISPALY_OFF";function R(e){return{type:w,unit:e}}function I(e){return function(t){t({type:E,text:e}),setTimeout((function(){t({type:_})}),2e3)}}var C=c(58),F=(c(71),c(2)),A=c(55),S=c.n(A),k={weather:[],weatherDaily:[],unitDegrees:"C"};function M(e){return function(e){var t=Number((100*Math.abs(e)).toPrecision(15));return Math.round(t)/100*Math.sign(e)}(5*(e-32)/9)}var L=c(1);var P=function(e){e.city;var t=Object(a.useState)("celsius"),c=Object(s.a)(t,2),r=c[0],n=c[1],i=Object(j.c)((function(e){return e.mainCardReducer.weather})),u=Object(j.c)((function(e){return e.homePageReducer})),d=Object(j.c)((function(e){return e.mainCardReducer.weatherDaily})),v=Object(j.b)();return Object(a.useEffect)((function(){v(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"215854";return function(){var t=Object(O.a)(b.a.mark((function t(c){var a,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(f+e+"?apikey="+x);case 3:return a=t.sent,t.next=6,a.json();case 6:r=t.sent,c({type:m,data:r}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c(I("error API"));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(u.cityKey))}),[u.cityKey]),Object(L.jsx)("div",{className:"c-main-card",children:!!i.length&&Object(L.jsxs)(o.a,{fluid:"md",children:[Object(L.jsxs)(l.a,{children:[Object(L.jsxs)(h.a,{children:[Object(L.jsx)("h1",{className:"current-date",children:u.text}),Object(L.jsx)("h1",{className:"current-date",children:new Date(i[0].date).toDateString()})]}),Object(L.jsx)(h.a,{children:Object(L.jsxs)("div",{className:"favorites-container",children:[Object(L.jsx)("div",{className:"btn-favorites",onClick:function(){v(function(e,t,c,a){return{type:N,data:{city:e,cityKey:t,currentWeather:c,dailyWeather:a}}}(u.text,u.cityKey,i,d))},children:Object(L.jsx)("h5",{children:"\u2665 save"})}),Object(L.jsx)("div",{className:"btn-favorites",onClick:function(){"celsius"===r?(n("fahrenheit"),v(R("F"))):(n("celsius"),v(R("C")))},children:Object(L.jsxs)("h5",{children:["C ",Object(L.jsx)(C.a,{})," F"]})})]})})]}),Object(L.jsxs)(l.a,{className:"align-items-center",children:[Object(L.jsx)(h.a,{children:Object(L.jsx)("div",{className:"container-weather-img",children:Object(L.jsx)("img",{className:"weather-img",src:function(){var e=Number(i[0].weatherIcon)<10?"0".concat(i[0].weatherIcon):i[0].weatherIcon;return"https://developer.accuweather.com/sites/default/files/".concat(e,"-s.png")}()})})}),Object(L.jsxs)(h.a,{children:["celsius"===r?Object(L.jsxs)("h1",{className:"weather-temperature",children:[i[0][r],"\xb0C"]}):Object(L.jsxs)("h1",{className:"weather-temperature",children:[i[0][r],"\xb0F"]}),Object(L.jsx)("h1",{className:"weather-text",children:i[0].weatherText})]})]})]})})};c(74);var K=function(e){var t=e.weather,c=e.unitDegrees,r=(t.weatherDay,t.weatherNight,t.celsiusMin),n=t.celsiusMax,i=t.fahrenheitMin,u=t.fahrenheitMax,j=t.date,d=Object(a.useState)("weatherDay"),b=Object(s.a)(d,2),O=b[0],x=b[1];return Object(a.useEffect)((function(){var e=new Date;(e.getHours()>=17||e.getHours()<=5)&&x("weatherNight")}),[]),Object(L.jsx)(o.a,{fluid:!0,className:"c-weather-single-card back-ground-color",children:Object(L.jsx)(l.a,{children:Object(L.jsx)(h.a,{children:Object(L.jsxs)("div",{className:"single-day-container",children:[Object(L.jsx)("h1",{children:new Date(j).toDateString()}),Object(L.jsx)("div",{className:"container-weather-img",children:Object(L.jsx)("img",{className:"single-weather-img",src:function(){var e=Number(t[O].Icon)<10?"0".concat(t[O].Icon):t[O].Icon;return"".concat("https://developer.accuweather.com/sites/default/files/").concat(e,"-s.png")}()})}),"C"===c?Object(L.jsxs)("h1",{children:[" ",r,"\xb0C~",n,"\xb0C"]}):Object(L.jsxs)("h1",{children:[" ",i,"\xb0F~",u,"\xb0F"]}),Object(L.jsx)("h1",{children:t[O].IconPhrase.replace("w/","")})]})})})})};var W=function(e){var t=Object(a.useState)(""),c=Object(s.a)(t,2),r=c[0],n=c[1],i=Object(j.b)(),d=Object(j.c)((function(e){return e.homePageReducer})),f=Object(j.c)((function(e){return e.mainCardReducer.weatherDaily})),m=Object(j.c)((function(e){return e.mainCardReducer.unitDegrees}));Object(a.useEffect)((function(){i(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"215854";return function(){var t=Object(O.a)(b.a.mark((function t(c){var a,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(v+e+"?apikey="+x);case 3:return a=t.sent,t.next=6,a.json();case 6:r=t.sent,c({type:y,data:r}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c(I("error API"));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(d.cityKey))}),[d.cityKey]);var g=Object(j.c)((function(e){return e.appReducer.error}));console.log("error ",g);var w=Object(L.jsx)(u.a,{className:"d-inline-block m-1",bg:"danger",children:Object(L.jsx)(u.a.Body,{children:g})});return Object(L.jsxs)("div",{className:"p-home",children:[!!g&&w,Object(L.jsxs)(o.a,{fluid:!0,children:[Object(L.jsx)(l.a,{className:"justify-content-center",children:Object(L.jsx)(h.a,{md:"auto",children:Object(L.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(c){var a,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey="+x+"&q="+e);case 3:return a=t.sent,t.next=6,a.json();case 6:r=t.sent,c({type:p,data:r}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c(I("error API"));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(r)),n("")},children:[Object(L.jsx)("div",{className:"frame-input",children:Object(L.jsx)("input",{className:"search-input",type:"text",placeholder:"The city name",onChange:function(e){n(e.target.value)},value:r})}),Object(L.jsx)("input",{type:"submit",hidden:!0})]})})}),Object(L.jsx)(l.a,{children:Object(L.jsx)(P,{city:d.text})}),Object(L.jsx)("div",{className:"back-ground-color",children:Object(L.jsx)(l.a,{xs:1,md:3,xxl:5,children:!!f&&f.map((function(e){return Object(L.jsxs)(h.a,{children:[" ",Object(L.jsx)(K,{weather:e,unitDegrees:m})," "]},e.dayId)}))})})]})]})},V=(c(75),c(8));var U=function(e){var t=e.cityData,c=Object(j.b)(),a=t.currentWeather,r=t.dailyWeather,n=t.city,i=t.cityKey,s=Object(V.f)();return Object(L.jsx)(o.a,{fluid:!0,className:"c-weather-single-card back-ground-color",onClick:function(){c(function(e,t,c,a){return function(r){r({type:D,data:{city:e,cityKey:t}}),r({type:T,data:{currentWeather:c,dailyWeather:a}})}}(n,i,a,r)),s.push("/#")},children:Object(L.jsx)(l.a,{children:Object(L.jsx)(h.a,{children:Object(L.jsxs)("div",{className:"single-day-container",children:[Object(L.jsx)("h1",{className:"city-color",children:n}),Object(L.jsx)("div",{className:"container-weather-img",children:Object(L.jsx)("img",{className:"single-weather-img",src:function(){var e=Number(a[0].weatherIcon)<10?"0".concat(a[0].weatherIcon):a[0].weatherIcon;return"https://developer.accuweather.com/sites/default/files/".concat(e,"-s.png")}()})}),Object(L.jsxs)("h1",{children:[a[0].celsius,"\xb0C"]}),Object(L.jsx)("h1",{children:a[0].weatherText})]})})})})};c(77);var X=function(e){var t=Object(j.c)((function(e){return e.favoritesPageReducer.citiesForecasts})).map((function(e){return Object(L.jsxs)(h.a,{children:[" ",Object(L.jsx)(U,{cityData:e})," "]},e.cityKey)}));return Object(L.jsx)("div",{className:"p-favorites",children:Object(L.jsx)(o.a,{fluid:!0,className:"back-ground-color",children:Object(L.jsx)(l.a,{xs:1,md:3,xxl:5,children:t.length?t:Object(L.jsx)(h.a,{children:Object(L.jsx)("h1",{children:"The list emty yet. "})})})})})},H=c(49),B=c(87),G=c(88);var Y=function(e){return Object(L.jsx)("div",{children:Object(L.jsx)(B.a,{bg:"light",variant:"light",children:Object(L.jsxs)(o.a,{children:[Object(L.jsx)(B.a.Brand,{href:"#/",children:"Weather App"}),Object(L.jsxs)(G.a,{className:"me-auto",children:[Object(L.jsx)(G.a.Link,{href:"#/",children:"Home"}),Object(L.jsx)(G.a.Link,{href:"#/Favorite",children:"Favorite"})]})]})})})};var J=function(){return Object(L.jsxs)("div",{className:"App",children:[Object(L.jsx)(Y,{}),Object(L.jsx)(H.a,{children:Object(L.jsxs)(V.c,{children:[Object(L.jsx)(V.a,{exact:!0,path:"/",children:Object(L.jsx)(W,{})}),Object(L.jsx)(V.a,{exact:!0,path:"/favorite",children:Object(L.jsx)(X,{})})]})})]})},q=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,90)).then((function(t){var c=t.getCLS,a=t.getFID,r=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),a(e),r(e),n(e),i(e)}))},z=(c(80),c(31)),Q={longitude:34.855499,latitude:32.109333,text:"Tel Aviv",cityKey:"215854"},Z=c(45),$={citiesForecasts:[]},ee={loading:!1,error:null},te=Object(z.b)({homePageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(F.a)(Object(F.a)({},e),{},{text:t.data.city});case g:return Object(F.a)(Object(F.a)({},e),{},{longitude:t.data.location.longitude,latitude:t.data.location.latitude});case p:var c=t.data[0].LocalizedName,a=t.data[0].Key;return Object(F.a)(Object(F.a)({},e),{},{text:c,cityKey:a});default:return e}},mainCardReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:var c=t.data.map((function(e){return{weatherText:e.WeatherText,weatherIcon:e.WeatherIcon,celsius:e.Temperature.Metric.Value,fahrenheit:e.Temperature.Imperial.Value,date:e.LocalObservationDateTime}}));return Object(F.a)(Object(F.a)({},e),{},{weather:c});case y:var a=t.data.DailyForecasts.map((function(e){var t=e.Temperature.Minimum.Value,c=e.Temperature.Maximum.Value,a=M(t),r=M(c);return{weatherDay:e.Day,weatherNight:e.Night,celsiusMin:a,celsiusMax:r,fahrenheitMin:t,fahrenheitMax:c,date:e.Date,dayId:S()()}}));return Object(F.a)(Object(F.a)({},e),{},{weatherDaily:a});case w:return Object(F.a)(Object(F.a)({},e),{},{unitDegrees:t.unit});case T:return Object(F.a)(Object(F.a)({},e),{},{weatherDaily:t.data.weatherDaily,weather:t.data.currentWeather});default:return e}},favoritesPageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;if(t.type===N){var c=t.data,a=e.citiesForecasts,r=a.findIndex((function(e){return e.cityKey===c.cityKey})),n=Object(Z.a)(a);return r>-1?n.splice(r,1,c):n.push(c),Object(F.a)(Object(F.a)({},e),{},{citiesForecasts:n})}return e},appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(console.log("input text Reducer > ",t),t.type){case E:return Object(F.a)(Object(F.a)({},e),{},{error:t.text});case _:return Object(F.a)(Object(F.a)({},e),{},{error:null});default:return e}}}),ce=c(57),ae=Object(z.d)(te,Object(z.c)(Object(z.a)(ce.a),"undefined"===typeof window.__REDUX_DEVTOOLS_EXTENSION__?function(e){return e}:window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));i.a.render(Object(L.jsx)(r.a.StrictMode,{children:Object(L.jsx)(j.a,{store:ae,children:Object(L.jsx)(J,{})})}),document.getElementById("root")),q()}},[[81,1,2]]]);
//# sourceMappingURL=main.54db8be3.chunk.js.map